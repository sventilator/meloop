<%- include('partials/header') -%>
<%- include('partials/navbar') -%>

<div class="row-fluid kategorieBanner">
  <div class="kategorieBannerOverlay"></div>
  <h1 class="kategorieBannerText" align="center">Unsere Auswahl an Gitarren!</h1>
  <div class="seperatorKategorieBanner"></div>

</div>
<div class="row kategorieFilterRow">
  <div class="col-xl-2 col-lg-2 col-sm-12 filterCol">
    <div class="filterDiv">
      <div class="filterHerstellerHeadline">

        <h3 align="center" class="filterHerstellerHeadlineText">Hersteller</h3>

      </div>

      <div class="filterInnerDiv">

        <input type="checkbox" id="fender" class="filterInput" name="Fender" value="Fender">
        <label for="fender" class="filterLabel">Fender</label><br>
        <input type="checkbox" id="prs" class="filterInput" name="Prs" value="Prs">
        <label for="prs" class="filterLabel">Prs</label><br>
        <input type="checkbox" id="schecter" class="filterInput" name="Schecter" value="Schecter">
        <label for="schecter" class="filterLabel">Schecter</label><br>

        <form action="/guitarSortAsce" method="GET">
          <button id="sortBtn1">Preis
            <i class="fa fa-chevron-up iconSort"></i>
             </button>
          </form>
          
        </form>
        <form action="/guitarSortDesc" method="GET">
          <button id="sortBtn2">Preis
          <i class="fa fa-chevron-down iconSort"></i>
           </button>
        </form>


      </div>
      

    </div>
  </div>
  <div class="col-xl-10 col-lg-10 col-md-12 col-sm-12">

    <%- include('cardRender') -%>
    <script>


      getFilter = document.querySelectorAll(".filterInput")
      cardElements = document.querySelectorAll(".cardInstrument")
      checkboxFender = document.querySelector("#fender")
      checkboxPrs = document.querySelector("#prs")
      checkboxSchecter = document.querySelector("#schecter")
      checkboxAlle = document.querySelector("#alle")

      //zeige elemente des ausgewählten filters..alle anderen verschwinden
      //wenn keine checkbox ausgewählt ist, werden alle angezeigt
      getFilter.forEach((gf) => {
        gf.addEventListener("change", (gfevent) => {
          if (gf.checked == true) {

            cardElements.forEach((ce) => {
              if (gf.name == ce.getAttribute("value"))
                ce.classList.add("show" + gf.name)
              ce.style.display = "none"



            })

          }
          else if (checkboxFender.checked == false && checkboxPrs.checked == false && checkboxSchecter.checked == false) {

            cardElements.forEach((ce) => {

              ce.classList.remove("show" + gf.name)
              ce.style.display = "block"
            })
          }
          else {

            cardElements.forEach((ce) => {
              if (gf.name == ce.getAttribute("value"))
                ce.classList.remove("show" + gf.name)

            })

          }
        })
      })




    </script>






  </div>
</div>






<%- include('partials/footer') -%>